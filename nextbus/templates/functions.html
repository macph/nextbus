{% macro stop_name(stop) -%}
{{ stop.common_name }}
{%- endmacro %}

{% macro stop_indicator(stop) -%}
{{ stop.indicator if stop.indicator is not none }}
{%- endmacro %}

{% macro stop_short_indicator(stop) -%}
{{ stop.short_ind if stop.short_ind is not none }}
{%- endmacro %}

{% macro stop_full_name(stop) -%}
{{ stop_name(stop) }}{{ " (%s)"|format(stop.indicator) if stop.indicator is not none }}
{%- endmacro %}

{% macro stop_css_class(stop) -%}
area-color-{{ stop.atco_code[:3] }}
{%- endmacro %}

{% macro resize_indicator(class_name) %}
<script>
    resizeInd(
        "{{ class_name }}",
        "{{ url_for('static', filename='img/bus-white.svg') }}",
        "{{ url_for('static', filename='img/tram-white.svg') }}"
    );
</script>
{%- endmacro %}

{% macro print_stops(list) -%}
{% if list|length > 0 %}
<div class="list-stops">
    {% for stop in list %}
    <a href="{{ url_for('page.stop_atco', atco_code=stop.atco_code) }}" class=item-stop>
        <div class="stop-indicator {{ stop_css_class(stop) }}"><span>{{ stop_short_indicator(stop) }}</span></div>
        <div class="stop-name">{{ stop_name(stop) }}</div>
    </a>
    {% endfor %}
</div>
{% else %}
<p>No stops found.</p>
{% endif %}
{%- endmacro %}

{% macro print_stops_dist(list) -%}
{% if list|length > 0 %}
<div class="list-stops-dist">
    {% for stop, distance in list %}
    <a href="{{ url_for('page.stop_atco', atco_code=stop.atco_code) }}" class=item-stop-dist>
        <div class="stop-indicator {{ stop_css_class(stop) }}"><span>{{ stop_short_indicator(stop) }}</span></div>
        <div class="stop-name">{{ stop_name(stop) }}</div>
        <div class="stop-dist">{{ '%.0f m'|format(distance) }}</div>
    </a>
    {% endfor %}
</div>
{% else %}
<p>No stops nearby.</p>
{% endif %}
{%- endmacro %}

{% macro print_localities(list, warning=true) -%}
{% if list|length > 0 %}
<div class="list-places">
    {% for locality in list %}
    <a class="item-place" href="{{ url_for('page.list_in_locality', locality_code=locality.code) }}">{{ locality.name }}</a>
    {% endfor %}
</div>
{% elif warning %}
<p>No localitites found.</p>
{% endif %}
{%- endmacro %}