{% extends "base.html" %}
{% import 'functions.html' as f %}
{% block title %}{{ region.name }} region{% endblock %}

{% block content %}
<nav>
  <ul class="breadcrumbs breadcrumbs-trailing">
    <li><a href="{{ url_for('page.list_regions') }}">All regions</a></li>
  </ul>
</nav>
<main>
  <h1>{{ region.name }}</h1>
  <section>
    <h2>Areas</h2>
    {% if areas -%}
    {% call(a) f.print_list(areas, 'list-places') -%}
    {% if a.table_name == 'admin_area' -%}
    <a class="item item-place" href="{{ url_for('page.list_in_area', area_code=a.code) }}">{{ a.name }}</a>
    {%- elif a.table_name == 'district' -%}
    <a class="item item-place" href="{{ url_for('page.list_in_district', district_code=a.code) }}">{{ a.name }}</a>
    {%- endif %}
    {%- endcall %}
    {%- else -%}
    <p>No areas or districts found for this region.</p>
    {%- endif %}
  </section>
</main>
{% endblock %}
